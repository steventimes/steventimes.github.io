---
const { id, title, kicker } = Astro.props;
---
<section id={id} class="scroll-mt-28 py-14">
  <div class="max-w-5xl mx-auto px-5">
    <div class="mb-7">
      {kicker && <p class="text-sm uppercase tracking-widest text-slate-600 dark:text-slate-400">{kicker}</p>}
      <h2 class="text-2xl md:text-3xl font-semibold">{title}</h2>
    </div>
    <slot />
  </div>

  <script is:inline>
    // Lightweight reveal on scroll
    (() => {
      const root = document.currentScript?.closest("section");
      if (!root) return;
      root.style.opacity = "0";
      root.style.transform = "translateY(10px)";
      const io = new IntersectionObserver((entries) => {
        entries.forEach(e => {
          if (e.isIntersecting) {
            root.style.transition = "opacity 700ms ease, transform 700ms ease";
            root.style.opacity = "1";
            root.style.transform = "translateY(0px)";
            io.disconnect();
          }
        });
      }, { threshold: 0.18 });
      io.observe(root);
    })();
  </script>
</section>
